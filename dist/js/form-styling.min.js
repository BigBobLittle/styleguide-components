angular.module("tw.form-styling", []);
!function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){function a(a,b,e,f){var g=d(a,e),h=e!==f,i=e-g-(h?0:1),j=c(a,i);return i+j}function b(a,b,d){var e=c(a,d);return d+e+1}function c(a,b){for(var c=0;a[b+c]&&"*"!==a[b+c];)c++;return c}function d(a,b){for(var c=0;a[b-c-1]&&"*"!==a[b-c-1];)c++;return c}function e(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}function f(a){return a.selectionStart}function g(a,b){a.setSelectionRange(b,b)}return{restrict:"A",require:"ngModel",scope:{twPresentationPattern:"@"},controller:["$element","$timeout","$scope","$attrs","$parse","TwTextFormatting",function(c,h,i,j,k,l){function m(){console.log("listener"),n(c)}function n(a,b){b||(b=a.val());var c=p(o(b));return c!==b&&a.val(c),c}function o(a){if(console.log("unformat: "+a),!a)return a;var b=c.attr("tw-presentation-pattern");return l.unformatUsingPattern(a,b)}function p(a){if(console.log("format: "+a),!a)return"";var b=c.attr("tw-presentation-pattern");return l.formatUsingPattern(a,b)}function q(i){console.log("keypress");var j=i.keyCode||i.which;if(!(t.indexOf(j)>=0)){var k=f(i.target),l=i.target.selectionEnd,m=k!==l,q=c.attr("tw-presentation-pattern"),u=d(q,k);h(function(){var d=c.val();if(j===s.backspace){var f=d;if(u){var h=u>1?1:0;f=m?e(d,k-u+1,k-h):e(d,k-u,k-h)}c.val(p(o(f))),r.$setViewValue(f),g(i.target,a(q,c[0],k,l))}else{n(c);var t=b(q,c[0],k+1);g(i.target,t)}})}}var r=c.controller("ngModel");i.$watch(i.twPresentationPattern,function(a,b){console.log(a)}),r.$render=function(){console.log("render"),c.val(p(r.$viewValue))},r.$formatters.push(function(a){return console.log("formatters"),p(a)}),r.$parsers.push(function(a){return console.log("parsers"),o(a)}),h(function(){var a=r.$validators.minlength,b=r.$validators.maxlength;a&&(r.$validators.minlength=function(b,c){return console.log("minlength"),a(b,o(c))}),b&&(r.$validators.maxlength=function(a,c){return console.log("maxlength"),b(a,o(c))})}),c.bind("change",m),c.bind("keydown",function(a){q(a)}),c.bind("paste",function(a){var b=c[0].selectionStart,d=c.val().length;h(function(){console.log("paste");var a=c.val().length,e=b+(a-d);c[0].setSelectionRange(e,e),m()})}),c.bind("cut",function(){var a=c[0].selectionStart;h(function(){m(),c[0].setSelectionRange(a,a)})}),c.bind("copy",function(){var a=c[0].selectionStart,b=c[0].selectionEnd;h(function(){c[0].setSelectionRange(a,b)})});var s={cmd:224,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46},t=[s.cmd,s.enter,s.shift,s.ctrl,s.alt,s.left,s.up,s.right,s.down]}]}}a.module("tw.form-styling").directive("twPresentationPattern",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular);