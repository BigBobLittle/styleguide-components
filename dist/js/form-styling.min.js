angular.module("tw.form-styling", []);
!function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"A",require:"ngModel",bindToController:!0,controllerAs:"$ctrl",scope:{ngModel:"<",twTextFormat:"@"},controller:["$element","$timeout","$scope","TwTextFormatService","TwUndoStackFactory",c]}}function c(a,b,c,d,e){function f(){B=e["new"](),C=0,z=a.controller("ngModel"),A=a[0],c.$watch("$ctrl.twTextFormat",h),c.$watch("$ctrl.ngModel",g),h(E.twTextFormat),z.$formatters.push(function(a){return d.formatUsingPattern(a,D)}),z.$parsers.push(function(a){return d.unformatUsingPattern(a,D)}),A.addEventListener("change",k),A.addEventListener("keydown",m),A.addEventListener("paste",l),A.addEventListener("cut",t),A.addEventListener("copy",u),i(z),B.reset(A.value)}function g(a,b){if(a!==b){var c=A.selectionStart,d=A.selectionEnd;j(A,a,!0),A.setSelectionRange(c,d)}}function h(a,b){if(a===b)return void(D=a);if(a&&a.indexOf("||")>0){var c=y(a);console.log(c);var e=E.ngModel?E.ngModel.length:0;D=c[String(e)]?map[String(E.ngModel.length)]:a.substring(0,a.indexOf("||"))}else D=a;var f=A.value;b&&(f=d.unformatUsingPattern(f,b)),a&&(f=d.formatUsingPattern(f,D)),B.reset(f),A.value=f}function i(a){b(function(){var b=a.$validators.minlength,c=a.$validators.maxlength;b&&(a.$validators.minlength=function(a,c){return b(a,d.unformatUsingPattern(c,D))}),c&&(a.$validators.maxlength=function(a,b){return c(a,d.unformatUsingPattern(b,D))})})}function j(a,b){b||(b=a.value);var c=d.reformatUsingPattern(b,D);return c!==b&&(a.value=c),c}function k(){var a=j(A);B.add(a)}function l(a){var c=A.selectionStart,e=(A.value.length,a.clipboardData||window.clipboardData),f=e.getData("Text"),g=d.countSeparatorsInAppendedValue(D,c,f);b(function(){var a=c+f.length+g,b=j(A);B.add(b),A.setSelectionRange(a,a)})}function m(a){C++;var c=C,d=a.keyCode||a.which,e=a.target.selectionStart,f=a.target.selectionEnd;return G.indexOf(d)>=0||a.metaKey||a.ctrlKey?(d===F.z&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),A.value=B.undo()),void(d===F.y&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),A.value=B.redo()))):void b(function(){n(d,c,A,D,e,f)})}function n(a,b,c,d,e,f){var g;a===F.backspace?(g=o(c,d,e,f),z.$setViewValue(g)):a===F["delete"]?(g=q(c,d,e,f),z.$setViewValue(g)):C===b&&s(c,d,e,f)}function o(a,b,c,d){a.value=p(a,b,c,d),B.add(a.value);var e=v(b,a,c,d);return a.setSelectionRange(e,e),a.value}function p(a,b,c,e){var f,g,h=a.value,i=d.countSeparatorsBeforeCursor(b,c);if(i){var j=i>1?1:0;c!==e?(f=c-i+1,g=c-j):(f=c-i,g=c-j),h=x(a.value,f,g)}return d.reformatUsingPattern(h,b)}function q(a,b,c,d){return a.value=r(a,b,c,d),B.add(a.value),a.setSelectionRange(c,c),a.value}function r(a,b,c,e){var f,g,h=a.value,i=d.countSeparatorsAfterCursor(b,c);if(i){var j=i>1?0:1;c!==e?(f=c+j,g=c+i+j):(f=c+i,g=c+i+1),h=x(a.value,f,g)}return d.reformatUsingPattern(h,b)}function s(a,b,c,d){var e=j(a);B.add(e);var f=w(b,a,c,d);a.setSelectionRange(f,f)}function t(a){var c=A.selectionStart;b(function(){var a=j(A);B.add(a);var b=c+d.countSeparatorsAfterCursor(D,c);A.setSelectionRange(b,b)})}function u(a){var c=A.selectionStart,d=A.selectionEnd;b(function(){A.setSelectionRange(c,d)})}function v(a,b,c,e){var f=d.countSeparatorsBeforeCursor(a,c),g=c!==e,h=c-f-(g?0:1);return h+d.countSeparatorsAfterCursor(a,h)}function w(a,b,c,e){var f;return c!==e?f=d.countSeparatorsAfterCursor(a,c):(f=d.countSeparatorsAfterCursor(a,c),0===f&&(f=d.countSeparatorsAfterCursor(a,c+1))),c+1+f}function x(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}function y(a){var b=a.split("||"),c={};return b.forEach(function(a){console.log(a);var b=String(d.countCharactersInPattern(a));c[b]=a}),c}var z,A,B,C,D="",E=this,F={cmd:224,cmdLeft:91,cmdRight:93,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46,y:89,z:90},G=[F.cmd,F.cmdLeft,F.cmdRight,F.enter,F.shift,F.ctrl,F.alt,F.left,F.up,F.right,F.down];f()}a.module("tw.form-styling").directive("twTextFormat",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular);