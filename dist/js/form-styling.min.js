angular.module("tw.form-styling", []);
!function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"A",require:"ngModel",bindToController:!0,controllerAs:"$ctrl",scope:{ngModel:"<",twTextFormat:"@"},controller:["$element","$timeout","$scope","TwTextFormatService",c]}}function c(a,b,c,k){function l(){z=new j,x=a.controller("ngModel"),y=a[0],c.$watch("$ctrl.twTextFormat",function(a,b){if(a!==b){var c=y.value;b&&(c=k.unformatUsingPattern(c,b)),a&&(c=k.formatUsingPattern(c,a)),z.reset(c),y.value=c}}),c.$watch("$ctrl.ngModel",function(a,b){if(a!==b){var c=y.selectionStart,d=y.selectionEnd;m(y,a,!0),y.setSelectionRange(c,d)}}),x.$formatters.push(o),x.$parsers.push(n),y.addEventListener("change",p),y.addEventListener("keydown",r),y.addEventListener("paste",q),y.addEventListener("cut",v),y.addEventListener("copy",w),b(function(){var a=x.$validators.minlength,b=x.$validators.maxlength;a&&(x.$validators.minlength=function(b,c){return a(b,n(c))}),b&&(x.$validators.maxlength=function(a,c){return b(a,n(c))})}),z.reset(y.value)}function m(a,b){b||(b=a.value);var c=o(n(b));return c!==b&&(a.value=c),c}function n(a){return a?k.unformatUsingPattern(a,A.twTextFormat):a}function o(a){if(!a)return"";var b=k.formatUsingPattern(a,A.twTextFormat);return b}function p(){var a=m(y);z.add(a)}function q(a){var c=y.selectionStart,d=(y.value.length,a.clipboardData||window.clipboardData),e=d.getData("Text"),g=f(A.twTextFormat,c,c,e);b(function(){var a=c+e.length+g,b=m(y);z.add(b),y.setSelectionRange(a,a)})}function r(a){var c=a.keyCode||a.which,d=a.target.selectionStart,e=a.target.selectionEnd;if(C.indexOf(c)>=0||a.metaKey||a.ctrlKey)return c===B.z&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),y.value=z.undo()),void(c===B.y&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),y.value=z.redo()));var f=A.twTextFormat;b(function(){var a;c===B.backspace?(a=s(y,f,d,e),x.$setViewValue(a)):c===B["delete"]?(a=t(y,f,d,e),x.$setViewValue(a)):u(y,f,d,e)})}function s(a,b,c,e){var f,g,j=a.value,k=h(b,c);if(k){var l=k>1?1:0;c!==e?(f=c-k+1,g=c-l):(f=c-k,g=c-l),j=i(a.value,f,g)}a.value=o(n(j)),z.add(a.value);var m=d(b,a,c,e);return a.setSelectionRange(m,m),j}function t(a,b,c,d){var e,f,h=a.value,j=g(b,c);if(j){var k=j>1?0:1;c!==d?(e=c+k,f=c+j+k):(e=c+j,f=c+j+1),h=i(a.value,e,f)}return a.value=o(n(h)),z.add(a.value),a.setSelectionRange(c,c),h}function u(a,b,c,d){var f=m(a);z.add(f);var g=e(b,a,c,d);a.setSelectionRange(g,g)}function v(a){var c=y.selectionStart;b(function(){var a=m(y);z.add(a);var b=c+g(A.twTextFormat,c);y.setSelectionRange(b,b)})}function w(a){var c=y.selectionStart,d=y.selectionEnd;b(function(){y.setSelectionRange(c,d)})}var x,y,z,A=this,B={cmd:224,cmdLeft:91,cmdRight:93,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46,y:89,z:90},C=[B.cmd,B.cmdLeft,B.cmdRight,B.enter,B.shift,B.ctrl,B.alt,B.left,B.up,B.right,B.down];l()}function d(a,b,c,d){var e=h(a,c),f=c!==d,i=c-e-(f?0:1);return i+g(a,i)}function e(a,b,c,d){var e;return c!==d?e=g(a,c):(e=g(a,c),0===e&&(e=g(a,c+1))),c+1+e}function f(a,b,c,d){for(var e=0,f=0,g=d.length;g;)"*"===a[b+f]||"undefined"==typeof a[b+f]?g--:e++,f++;return e}function g(a,b){for(var c=0;a[b+c]&&"*"!==a[b+c];)c++;return c}function h(a,b){for(var c=0;a[b-c-1]&&"*"!==a[b-c-1];)c++;return c}function i(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}function j(){var a=0,b=[];this.reset=function(c){b=[c],a=0},this.add=function(c){b.length-1>a&&(b=b.slice(0,a+1)),b[a]!==c&&(b.push(c),a++)},this.undo=function(){return a>=0&&"undefined"!=typeof b[a-1]&&a--,b[a]},this.redo=function(){return a<b.length&&"undefined"!=typeof b[a+1]&&a++,b[a]}}a.module("tw.form-styling").directive("twTextFormat",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular);