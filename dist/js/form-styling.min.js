angular.module("tw.form-styling", []);
!function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"A",require:"ngModel",controller:["$element","$timeout","TwTextFormatting",c]}}function c(a,b,c){function j(){A=a.controller("ngModel"),B=a[0],A.$render=function(){B.value=m(A.$viewValue)},A.$formatters.push(m),A.$parsers.push(l),B.addEventListener("change",n),B.addEventListener("keydown",p),B.addEventListener("paste",o),B.addEventListener("cut",t),B.addEventListener("copy",u),b(function(){var a=A.$validators.minlength,b=A.$validators.maxlength;a&&(A.$validators.minlength=function(b,c){return a(b,l(c))}),b&&(A.$validators.maxlength=function(a,c){return b(a,l(c))})}),w(B.value)}function k(a,b){b||(b=a.value);var c=m(l(b));return c!==b&&(a.value=c),c}function l(a){return a?c.unformatUsingPattern(a,v(B)):a}function m(a){if(!a)return"";var b=c.formatUsingPattern(a,v(B));return x(b),b}function n(){k(B)}function o(a){var c=B.selectionStart,d=(B.value.length,a.clipboardData||window.clipboardData),e=d.getData("Text"),g=v(B),h=f(g,c,c,e);b(function(){var a=c+e.length+h;n(),B.setSelectionRange(a,a)})}function p(a){var c=a.keyCode||a.which,d=a.target.selectionStart,e=a.target.selectionEnd;if(F.indexOf(c)>=0||a.metaKey||a.ctrlKey)return c===E.z&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),y()),void(c===E.y&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),z()));var f=v(B);b(function(){var a;c===E.backspace?(a=q(B,f,d,e),A.$setViewValue(a)):c===E["delete"]?(a=r(B,f,d,e),A.$setViewValue(a)):s(B,f,d,e)})}function q(a,b,c,e){var f,g,j=h(b,c),k=a.value;if(j){var n=j>1?1:0;c!==e?(f=c-j+1,g=c-n):(f=c-j,g=c-n),k=i(a.value,f,g)}a.value=m(l(k));var o=d(b,a,c,e);return a.setSelectionRange(o,o),k}function r(a,b,c,d){var e,f,h=g(b,c),j=a.value;if(h){var k=h>1?0:1;c!==d?(e=c+k,f=c+h+k):(e=c+h,f=c+h+1),j=i(a.value,e,f)}return a.value=m(l(j)),a.setSelectionRange(c,c),j}function s(a,b,c,d){k(a);var f=e(b,a,c,d);a.setSelectionRange(f,f)}function t(a){var c=B.selectionStart;b(function(){n();var a=v(B),b=c+g(a,c);B.setSelectionRange(b,b)})}function u(a){var c=B.selectionStart,d=B.selectionEnd;b(function(){B.setSelectionRange(c,d)})}function v(a){return a.getAttribute("tw-presentation-pattern")}function w(a){C=[a],D=0}function x(a){C.length-1>D&&(C=C.slice(0,D+1)),C[D]!==a&&(C.push(a),D++)}function y(){D>=0&&"undefined"!=typeof C[D-1]&&(D--,B.value=C[D])}function z(){D<C.length&&"undefined"!=typeof C[D+1]&&(D++,B.value=C[D])}var A,B,C,D,E={cmd:224,cmdLeft:91,cmdRight:93,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46,y:89,z:90},F=[E.cmd,E.cmdLeft,E.cmdRight,E.enter,E.shift,E.ctrl,E.alt,E.left,E.up,E.right,E.down];j()}function d(a,b,c,d){var e=h(a,c),f=c!==d,i=c-e-(f?0:1);return i+g(a,i)}function e(a,b,c,d){var e;return c!==d?e=g(a,c):(e=g(a,c),0===e&&(e=g(a,c+1))),c+1+e}function f(a,b,c,d){for(var e=0,f=0,g=d.length;g;)"*"===a[b+f]||"undefined"==typeof a[b+f]?g--:e++,f++;return e}function g(a,b){for(var c=0;a[b+c]&&"*"!==a[b+c];)c++;return c}function h(a,b){for(var c=0;a[b-c-1]&&"*"!==a[b-c-1];)c++;return c}function i(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}a.module("tw.form-styling").directive("twPresentationPattern",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular);