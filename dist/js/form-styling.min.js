angular.module("tw.form-styling", []);
!function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){function a(a,b,c,e){var f=d(a,c),g=c===e?1:0;return console.log("adjust: init "+c+" end "+e+" sep "+f+" adj "+g),c-f-g}function b(a,b,d){var e=c(a,d);return console.log("getPosAfterPress: "+d+" sep "+e),d+e+1}function c(a,b){for(var c=0;a[b+c]&&"*"!==a[b+c];)c++;return c}function d(a,b){for(var c=0;a[b-c-1]&&"*"!==a[b-c-1];)c++;return c}function e(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}function f(a){return console.log("getPos "+a.selectionStart),a.selectionStart}function g(a,b){console.log("setPos "+b),a.setSelectionRange(b,b)}return{restrict:"A",require:"ngModel",scope:{twPresentationPattern:"@"},controller:["$element","$timeout","$scope","$attrs","$parse","TwTextFormatting",function(c,h,i,j,k,l){function m(){console.log("listener"),n(c)}function n(a,b){b||(b=a.val());var c=p(o(b));return c!==b&&a.val(c),c}function o(a){if(console.log("unformat"),!a)return a;var b=c.attr("tw-presentation-pattern");return l.unformatUsingPattern(a,b)}function p(a){if(console.log("format"),!a)return"";var b=c.attr("tw-presentation-pattern");return l.formatUsingPattern(a,b)}function q(i){console.log("keypress");var j=i.keyCode||i.which;if(!(t.indexOf(j)>=0)){var k=f(i.target),l=i.target.selectionEnd,m=c.attr("tw-presentation-pattern"),o=d(m,k);console.log("initialPos: "+k),h(function(){console.log("timeout");var d=c.val();if(j===s.backspace){console.log("backspace");var f=d;o&&(f=e(d,k-o,k),console.log("after remove: "+f)),f=n(c,f),r.$setViewValue(f),g(i.target,a(m,c[0],k,l))}else{console.log("keyhandler"),n(c);var h=b(m,c[0],k);console.log("newPos: "+h),g(i.target,h)}})}}var r=c.controller("ngModel");console.log(j),i.$watch(i.twPresentationPattern,function(a,b){console.log(a)}),r.$render=function(){console.log("render"),c.val(p(r.$viewValue))},r.$formatters.push(function(a){return console.log("formatters"),p(a)}),r.$parsers.push(function(a){return console.log("parsers"),o(a)}),h(function(){var a=r.$validators.minlength,b=r.$validators.maxlength;a&&(r.$validators.minlength=function(b,c){return console.log("minlength"),a(b,o(c))}),b&&(r.$validators.maxlength=function(a,c){return console.log("maxlength"),b(a,o(c))})}),c.bind("change",m),c.bind("keydown",function(a){q(a)}),c.bind("paste cut",function(){h(function(){m(),console.log("paste cut"),g(c[0],c.val().length)})}),c.bind("copy",function(){h(function(){console.log("paste copy"),g(c[0],c.val().length)})});var s={cmd:224,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46},t=[s.cmd,s.enter,s.shift,s.ctrl,s.alt,s.left,s.up,s.right,s.down]}]}}a.module("tw.form-styling").directive("twPresentationPattern",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular);