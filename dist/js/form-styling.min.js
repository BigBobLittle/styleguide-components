angular.module("tw.form-styling", []);
!function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){function a(){$(this).closest(".form-group").addClass("focus"),$(this).closest(g).addClass("focus")}function b(){$(this).closest(".form-group").removeClass("focus"),$(this).closest(g).removeClass("focus")}function c(a){d(this),a.stopPropagation()}function d(a){var b=$(a).closest("label").find("input");"undefined"!=typeof b[0]&&(MouseEvent?b[0].dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})):b.click())}function e(a){13===(a.keyCode?a.keyCode:a.which)&&d(this)}function f(d,f,k,l){if(k.type){var m=k.type.toLowerCase();if(("radio"===m||"checkbox"===m)&&0!==$(f).closest(g).length){var n;n="radio"===m?$(i):$(h),n.keypress(e).click(c).focus(a).blur(b),$(f).addClass("sr-only").after(n),n.after(j)}}}var g=".checkbox > label, .radio > label",h="<button type='button' class='input-replacement'><span class='glyphicon glyphicon-ok'></span></button>",i="<button type='button' class='input-replacement'><span></span></button>",j="<span class='disabled-replacement input-replacement'><span></span></span>";return{restrict:"EA",link:f}}a.module("tw.form-styling").directive("twInput",b)}(window.angular),function(a){"use strict";function b(){return{require:"ngModel",bindToController:!0,controller:function(){},controllerAs:"$ctrl",link:c,replace:!1,restrict:"EA",scope:{ngModel:"=",ngRequired:"=",ngDisabled:"=",ngChange:"&",ngBlur:"&",options:"=",name:"@",disabled:"@",required:"@",placeholder:"@"},template:" 				<div class='btn-group btn-block'> 					<button type='button' class='btn btn-input dropdown-toggle' 						data-toggle='dropdown' aria-expanded='false' 						ng-disabled='$ctrl.ngDisabled' 						tw-focusable> 						<i class='icon {{$ctrl.selected.icon}}' ng-if='$ctrl.selected && $ctrl.selected.icon'> 						</i><span class='selected' ng-if='$ctrl.ngModel'>{{$ctrl.selected.label}}</span> 						<span class='form-control-placeholder' ng-if='!$ctrl.ngModel'>{{$ctrl.placeholder}}</span> 						<span class='caret'></span> 					</button> 					<ul class='dropdown-menu' role='menu'> 						<li ng-class='{active: !$ctrl.ngModel}' 							ng-if='$ctrl.placeholder && !$ctrl.ngRequired'> 							<a href='' value='' tw-focusable> 								{{$ctrl.placeholder}} 							</a> 						</li> 						<li 							ng-repeat='option in $ctrl.options' 							ng-class='{active: $ctrl.ngModel === option.value}'> 							<a href='' value='{{option.value}}' class='tw-select-option' tw-focusable> 								<i class='icon {{option.icon}}' ng-if='option.icon'></i>{{option.label}} 							</a> 						</li> 					</ul> 					<input type='hidden' name='{{$ctrl.name}}' value='{{$ctrl.ngModel}}' 					 	ng-disabled='$ctrl.ngDisabled' /> 				</div>"}}function c(a,b,c,l){var m=a.$ctrl,n=a.$ctrl.options;d(l,m,n),g(l,m,b,c),b.find(".btn").on("keypress click",function(a){l.$setTouched()}),b.find(".btn").on("keypress",function(a){j(l,m,b,n,a.key),b.find(".active a").focus()}),a.$watch("$ctrl.ngModel",function(a,b){a!==b&&l.$setDirty(),e(a,b,m)}),b.find(".btn").on("click",function(){setTimeout(function(){b.find(".active a").focus()})}),b.find(".btn").on("blur",function(){a.$evalAsync(function(){b.find(".btn-group").hasClass("open")||k(l,b,m)},100)}),b.find("ul").on("click","a",function(a){if($(a.target).hasClass("tw-select-option")){var c=f(n,this.getAttribute("value"));h(l,m,c)}else i(l,m);b.find(".btn").focus()}),b.find("ul").on("focus","a",function(a){if($(a.target).hasClass("tw-select-option")){var b=f(n,this.getAttribute("value"));h(l,m,b)}else i(l,m)}),b.find("ul").on("blur","a",function(c){a.$evalAsync(function(){0!==b.find(".btn:focus").length||b.find(".btn-group").hasClass("open")||k(l,b,m)},100)}),b.find("ul").on("keypress","a",function(a){j(l,m,b,n,a.key),b.find(".active a").focus()})}function d(a,b,c){if(b.ngModel){var d=f(c,b.ngModel);h(a,b,d)}}function e(a,b,c){if(a!==b){var d=f(c.options,a);d?c.selected=d:c.selected=null}}function f(a,b){var c=!1;return a.forEach(function(a){String(a.value)===String(b)&&(c=a)}),c}function g(a,b,c,d){(b.ngRequired||d.required)&&!b.ngModel&&b.options[0]&&h(a,b,b.options[0])}function h(a,b,c){a.$setViewValue(c.value),b.selected=c}function i(a,b){a.$setViewValue(""),b.selected=!1}function j(a,b,c,d,e){var f=e?e.toLowerCase():"",g=!1;d.forEach(function(c){g||c.label.substring(0,1).toLowerCase()===f&&(g=!0,h(a,b,c))})}function k(a,b,c){c.ngBlur()}a.module("tw.form-components").directive("twSelect",b)}(window.angular);