angular.module("tw.form-validation", []);
angular.module("tw.form-styling", []);
angular.module("tw.form-components", []);
angular.module("tw.styleguide-components", ['tw.form-validation', 'tw.form-styling', 'tw.form-components']);
!function(a){"use strict";function b(a,b,c){function d(){m()?B.explodeDateModel():l(),f(),e(),B.months=q(),void 0===B.ngRequired&&(B.ngRequired=void 0!==B.required),void 0===B.ngDisabled&&(B.ngDisabled=void 0!==B.disabled),p()}function e(){}function f(){B.locale||g()}function g(){B.locale=C}function h(){"string"==typeof B.date?i(B.date):j(B.date)}function i(a){j(new Date(a))}function j(a){B.day=a.getUTCDate(),B.month=a.getUTCMonth(),B.year=a.getUTCFullYear()}function k(){m()&&B.explodeDateModel()}function l(){B.day=null,B.month=0,B.year=null}function m(){return n(B.date)||o(B.date)}function n(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())}function o(a){return"string"==typeof a&&n(new Date(a))}function p(){c.$watch("vm.date",function(){k()}),c.$watch("vm.month",function(a,b){a!==b&&B.adjustLastDay()}),c.$watch("vm.locale",function(a,b){a!==b&&(B.months=q(B.locale))})}function q(){var a;return r(B.locale)?a=t():(b.warn('i18n not supported for locale "'+B.locale+'"'),a=D),u(a)}function r(a){return s()&&window.Intl.DateTimeFormat.supportedLocalesOf([a]).length>0}function s(){return window.Intl&&"object"==typeof window.Intl}function t(){for(var a=[],b=new Date,c=0;12>c;c++)b.setMonth(c),a.push(b.toLocaleDateString(B.locale,{month:"long"}));return a}function u(a){return a.map(function(a,b){return{id:b,name:a}})}function v(){return w(B.day)&&w(B.month)&&w(B.year)}function w(a){return"number"==typeof a}function x(){var b;if(!v())return B.date=null,void a.addClass("ng-invalid-pattern");B.adjustLastDay(),b=new Date(Date.UTC(Number(B.year),Number(B.month),Number(B.day)));var c=new Date(B.ngMin),d=new Date(B.ngMax);return c>b?void a.addClass("ng-invalid-min"):b>d?void a.addClass("ng-invalid-max"):(a.removeClass("ng-invalid-min"),a.removeClass("ng-invalid-max"),a.removeClass("ng-invalid-pattern"),void("string"==typeof B.date?B.date=y(b):B.date=b))}function y(a){return a.getUTCFullYear()+"-"+z(a.getUTCMonth()+1)+"-"+z(a.getUTCDate())}function z(a){return 10>a?"0"+a:a}function A(){var a=new Date(Date.UTC(B.year,B.month+1,0)),b=a.getUTCDate();B.day>b&&(B.day=b)}var B=this;B.updateDateModel=x,B.explodeDateModel=h,B.adjustLastDay=A,B.validDateModel=m;var C="en-GB",D=["January","February","March","April","May","June","July","August","September","October","November","December"];d()}a.module("tw.form-components").controller("TwDateController",b),b.$inject=["$element","$log","$scope"]}(window.angular),function(a){"use strict";function b(){var a={bindToController:!0,controller:"TwDateController",controllerAs:"vm",replace:!0,restrict:"E",scope:{date:"=ngModel",ngRequired:"=",required:"@",ngDisabled:"=",disabled:"@",locale:"=",ngMin:"=",ngMax:"="},template:c};return a}a.module("tw.form-components").directive("twDate",b);var c="<div class='row'> 				<div class='col-sm-3'> 					<label class='sr-only' for='day-{{::uniqueId}}'>Day</label> 					<input type='number' 						name='day' 						id='day-{{::uniqueId}}' 						class='form-control tw-date-day' 						ng-model='vm.day' 						ng-change='vm.updateDateModel()' 						placeholder='DD' 						min='1' 						max='31' 						maxlength='2' 						ng-min='1' 						ng-max='31' 						ng-maxlength='2' 						ng-disabled='vm.ngDisabled' 						ng-required='vm.ngRequired' 						tw-validation /> 				</div> 				<div class='col-sm-5'> 					<label class='sr-only' for='month-{{::uniqueId}}'>Month</label> 					<select name='month' 						id='month-{{::uniqueId}}' 						class='form-control' 						ng-model='vm.month' 						ng-change='vm.updateDateModel()' 						ng-options='month.id as month.name for month in vm.months' 						ng-required='vm.ngRequired' 						ng-disabled='vm.ngDisabled' 						autocomplete='off' 						tw-validation> 					</select> 				</div> 				<div class='col-sm-4'> 					<label class='sr-only' for='year-{{::uniqueId}}'>Year</label> 					<input type='number' 						id='year-{{::uniqueId}}' 						name='year' 						class='form-control' 						placeholder='YYYY' 						ng-model='vm.year' 						ng-change='vm.updateDateModel()' 						min='1900' 						max='2015' 						maxlength='4' 						ng-maxlength='4' 						ng-disabled='vm.ngDisabled' 						ng-required='vm.ngRequired' 						tw-validation /> 				</div> 			</div>"}(window.angular),function(a){function b(){return{restrict:"E",transclude:!0,controllerAs:"vm",bindToController:!0,controller:["$element",function(a){this.change=function(){c(a)}}],scope:{type:"@",name:"@",id:"@",placeholder:"@",step:"@",options:"=",ngModel:"=",ngRequired:"=",ngDisabled:"=",ngMinlength:"=",ngMaxlength:"=",ngMin:"=",ngMax:"=",ngPattern:"="},link:function(a,b){},template:"<div ng-switch='vm.type'> 				<input ng-switch-when='text'  					name='{{vm.name}}'  					id='{{vm.id}}' 					type='text' 					class='form-control' 					placeholder='{{vm.placeholder}}' 					ng-model='vm.ngModel' 					ng-required='vm.ngRequired' 					ng-disabled='vm.ngDisabled' 					ng-pattern='vm.ngPattern' 					ng-change='vm.change()' 					ng-minlength='vm.ngMinlength' 					ng-maxlength='vm.ngMaxlength' 					tw-validation />  				<input ng-switch-when='number'  					name='{{vm.name}}'  					id='{{vm.id}}' 					type='number' 					step='{{vm.step}}' 					class='form-control' 					placeholder='{{vm.placeholder}}' 					ng-model='vm.ngModel' 					ng-required='vm.ngRequired' 					ng-disabled='vm.ngDisabled' 					ng-change='vm.change()' 					ng-min='vm.ngMin' 					ng-max='vm.ngMax' 					tw-validation />  				<div ng-switch-when='radio' 					class='radio' 					ng-class='{disabled: vm.ngDisabled}' 					ng-repeat='(value, label) in vm.options track by $index'> 					<label> 						<input type='radio' 							name='{{vm.name}}' 							value='{{value}}' 							ng-model='vm.ngModel' 							ng-required='vm.ngRequired' 							ng-disabled='vm.ngDisabled' /> 						{{label}} 					</label> 				</div> 				<div ng-switch-when='checkbox' 					class='checkbox' 					ng-class='{disabled: vm.ngDisabled}'> 					<label> 						<input type='checkbox' 							name='{{vm.name}}' 							id='{{vm.id}}' 							ng-model='vm.ngModel' 							ng-required='vm.ngRequired' 							ng-disabled='vm.ngDisabled' /> 						{{vm.placeholder}} 					</label> 				</div> 				<select ng-switch-when='select' 					name='{{vm.name}}' 					id='{{vm.id}}' 					class='form-control' 					ng-options='value as label for (value, label) in vm.options track by $index' 					ng-model='vm.ngModel' 					ng-required='vm.ngRequired' 					ng-disabled='vm.ngDisabled' 					ng-change='vm.change()' 					tw-validation> 					<option ng-if='vm.placeholder' value=''> 						{{vm.placeholder}} 					</option> 				</select> 				<ng-transclude class='error-messages'></ng-transclude> 			</div>"}}function c(a){var b=a.closest(".form-group");setTimeout(function(){a.hasClass("ng-invalid")?b.addClass("has-error"):b.removeClass("has-error")})}a.module("tw.form-components").directive("twDynamicFormControl",b)}(window.angular),function(a){function b(){return{restrict:"E",template:"<div class='loader'> 			  <div class='loader-spinner'></div> 			  <div class='loader-flag'> 			    <svg xmlns='http://www.w3.org/2000/svg' width='52' height='52' viewBox='-2 -2 56 56'> 			      <polygon class='loader-flag-stroke'  stroke='#00B9FF' stroke-width='2' stroke-linejoin='miter' stroke-linecap='round' stroke-miterlimit='10' stroke-dasharray='300' stroke-dashoffset='300' fill='none' points='24.6,27.3 0,27.3 14.3,13.7 6.1,0 48.2,0 26.3,52 19.5,52 39.2,5.5 16.8,5.5 21.6,13.6 13.4,21.8 27,21.8' /> 			    </svg> 			    <svg class='loader-flag-fill' xmlns='http://www.w3.org/2000/svg' width='52' height='52' viewBox='0 2 52 48'> 			      <polygon fill='#00B9FF' points='6.1,0 14.3,13.7 0,27.3 24.6,27.3 27,21.8 13.4,21.8 21.6,13.6 16.8,5.5 39.2,5.5 19.5,52 26.3,52 48.2,0 '/> 			    </svg> 			  </div> 			</div>"}}a.module("tw.form-components").directive("twLoader",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:function(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}}}a.module("tw.form-styling").directive("formControl",b)}(window.angular),function(a){function b(){function a(){$(this).closest(".form-group").addClass("focus"),$(this).closest(g).addClass("focus")}function b(){$(this).closest(".form-group").removeClass("focus"),$(this).closest(g).removeClass("focus")}function c(a){d(this),a.stopPropagation()}function d(a){var b=$(a).closest("label").find("input");"undefined"!=typeof b[0]&&(MouseEvent?b[0].dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})):b.click())}function e(a){13===(a.keyCode?a.keyCode:a.which)&&d(this)}function f(d,f,k,l){if(k.type){var m=k.type.toLowerCase();if(("radio"===m||"checkbox"===m)&&0!==$(f).closest(g).length){var n;n="radio"===m?$(i):$(h),n.keypress(e).click(c).focus(a).blur(b),$(f).hide().after(n),n.after(j)}}}var g=".checkbox > label, .radio > label",h="<button type='button' class='input-replacement'><span class='glyphicon glyphicon-ok'></span></button>",i="<button type='button' class='input-replacement'><span></span></button>",j="<span class='disabled-replacement input-replacement'><span><span></span>";return{restrict:"E",link:f}}a.module("tw.form-styling").directive("input",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"AC",require:"ngModel",link:c}}function c(a,b){var c=$(b),e=c.closest(".form-group");c.on("blur keyup",function(){d(c,e)}).on("invalid",function(a){a.preventDefault()}),c.filter("select").on("change",function(){d(c,e)})}function d(a,b){setTimeout(function(){return a.hasClass("ng-invalid")?void(a.hasClass("ng-touched")&&!a.hasClass("ng-pristine")&&b.addClass("has-error")):void b.removeClass("has-error")},10)}a.module("tw.form-validation").directive("twValidation",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"E",link:function(a,b){$(b).on("submit",function(){$(b).find("[tw-validation].ng-invalid").closest(".form-group").addClass("has-error");var a=$(b).find("input[type=checkbox].ng-invalid, input[type=radio].ng-invalid");return a.closest(".checkbox, .radio").addClass("has-error"),a.parents(".form-group").addClass("has-error"),!0})}}}a.module("tw.form-validation").directive("form",b)}(window.angular),function(a){function b(){function a(a,c,d){setTimeout(function(){a.hasClass("ng-invalid")?(c.addClass("has-error"),d.addClass("has-error")):(c.removeClass("has-error"),b(d))})}function b(a){var b=a.find("input.ng-invalid"),c=a.find("input.ng-valid").closest(".checkbox, .radio");setTimeout(function(){c.removeClass("has-error"),0===b.length&&a.removeClass("has-error")})}function c(b,c,e,f){if(e.type){var g=e.type.toLowerCase();if(("radio"===g||"checkbox"===g)&&0!==$(c).closest(d).length){var h=$(c),i=h.closest("label");i.on("click",function(){a(h,h.closest(".checkbox, .radio"),h.closest(".form-group"))})}}}var d=".checkbox > label, .radio > label";return{restrict:"E",link:c}}a.module("tw.form-validation").directive("input",b)}(window.angular);