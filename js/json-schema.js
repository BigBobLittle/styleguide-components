!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=159)}({0:function(e,t){e.exports=angular},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(151),c=r(o);t.default=l.default.module("tw.json-schema.all-of",[]).component("allOfSchema",c.default).name},145:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(153),c=r(o);t.default=l.default.module("tw.json-schema.array",[]).component("arraySchema",c.default).name},146:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(155),c=r(o);t.default=l.default.module("tw.json-schema.basic-type",[]).component("basicTypeSchema",c.default).name},147:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(157),c=r(o);t.default=l.default.module("tw.json-schema.generic",[]).component("genericSchema",c.default).name},148:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(160),c=r(o);t.default=l.default.module("tw.json-schema.object",[]).component("objectSchema",c.default).name},149:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(162),c=r(o);t.default=l.default.module("tw.json-schema.one-of",[]).component("oneOfSchema",c.default).name},150:function(e,t,n){"use strict";function r(){this.getValidModelParts=o.getValidModelParts,this.validateSchema=c.validateSchema}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n(29),c=n(95);t.default=l.default.module("tw.json-schema.utils",[]).service("SchemaUtils",r).name},151:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(152),l=r(a),o=n(164),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&",onRefresh:"&"}};t.default=i},152:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=[];return e&&t&&t.forEach(function(t){n.push((0,c.getValidModelParts)(e,t)||{})}),n}function l(e){return e.reduce(function(e,t){return angular.extend(t,e)},{})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(29),i=function(){function e(){r(this,e)}return o(e,[{key:"$onChanges",value:function(e){(e.schema||e.model)&&(this.models=a(this.model,this.schema?this.schema.allOf:[]))}},{key:"onModelChange",value:function(e,t,n){var r=this.schema.allOf[e];this.models[e]=(0,c.getValidModelParts)(t,r),this.onChange&&this.onChange({model:l(this.models),schema:n})}}]),e}();t.default=i},153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(154),l=r(a),o=n(165),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&",onRefresh:"&"}};t.default=i},154:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e&&e.items&&e.items.type}function l(e){return"object"===e?{}:"array"===e?[]:null}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=["string","number","integer","boolean"],i=function(){function e(){r(this,e)}return o(e,[{key:"$onInit",value:function(){if(!Array.isArray(this.model)){var e=a(this.schema),t=l(e);this.model=[],t&&this.model.push(t)}}},{key:"onModelChange",value:function(e,t,n){this.model[e]=t,this.onChange&&this.onChange({model:this.model,schema:n})}},{key:"remove",value:function(e){this.model[e]&&this.model.splice(e,1)}},{key:"add",value:function(){var e=a(this.schema),t=l(e);t&&this.model.push(t)}},{key:"isSimpleType",value:function(e){return c.indexOf(e)>=0}}]),e}();t.default=i},155:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(156),l=r(a),o=n(166),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",required:"<",onChange:"&",onRefresh:"&"}};t.default=i},156:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(95),o=function(){function e(){r(this,e)}return a(e,[{key:"$onInit",value:function(){this.key=Math.floor(1e8*Math.random()),!this.model&&this.schema.default&&this.onModelChange(this.schema.default)}},{key:"onModelChange",value:function(e){this.validationKeys=(0,l.validateSchema)(e,this.schema),this.onChange&&this.onChange({model:e,schema:this.schema})}},{key:"getValidationMessages",value:function(){return this.schema&&this.schema.validationMessages||this.translations&&this.translations.validation||null}}]),e}();t.default=o},157:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(158),l=r(a),o=n(167),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",required:"<",hideTitle:"<",onChange:"&",onRefresh:"&"}};t.default=i},158:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(){r(this,e)}return a(e,[{key:"$onChanges",value:function(e){if(e.schema){var t=e.schema.currentValue;t&&t.enum&&1===t.enum.length&&this.onModelChange(t.enum[0],t)}}},{key:"onModelChange",value:function(e,t){this.onChange&&this.onChange({model:e,schema:t})}}]),e}();t.default=l},159:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=r(a),o=n(144),c=r(o),i=n(145),s=r(i),u=n(146),d=r(u),f=n(147),h=r(f),m=n(148),p=r(m),g=n(149),v=r(g),y=n(150),$=r(y);t.default=l.default.module("tw.json-schema",[c.default,s.default,d.default,h.default,p.default,v.default,$.default]).name},160:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(161),l=r(a),o=n(168),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",hideTitle:"<",onChange:"&",onRefresh:"&"}};t.default=i},161:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(){r(this,e)}return a(e,[{key:"$onInit",value:function(){this.model||(this.model={})}},{key:"onModelChange",value:function(e,t,n){this.model[e]=t,this.onChange&&this.onChange({model:this.model,schema:n})}},{key:"isRequired",value:function(e){return this.schema.required&&this.schema.required.includes(e)}}]),e}();t.default=l},162:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(163),l=r(a),o=n(169),c=r(o),i={controller:l.default,template:c.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&",onRefresh:"&"}};t.default=i},163:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(29),o=function(){function e(){r(this,e)}return a(e,[{key:"$onInit",value:function(){this.options=[],this.activeIndex=1}},{key:"onSchemaChange",value:function(e){var t=(0,l.getValidModelParts)(this.model,e);this.onModelChange(t,e)}},{key:"onModelChange",value:function(e,t){this.onChange&&this.onChange({model:e,schema:t})}}]),e}();t.default=o},164:function(e,t){e.exports="<h3 ng-if=$ctrl.schema.title class=page-header> {{ $ctrl.schema.title }} </h3> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-if=$ctrl.schema.help.warning class=\"alert alert-warning\"> {{ $ctrl.schema.help.warning }} </div> <div class=row> <div ng-repeat=\"(index, nestedSchema) in $ctrl.schema.allOf\" class=col-xs-12 ng-class=\"{\n      'col-sm-4': !$ctrl.narrow  && nestedSchema.width === 'sm',\n      'col-sm-6': !$ctrl.narrow  && nestedSchema.width === 'md',\n      'col-sm-12': $ctrl.narrow || nestedSchema.width === 'lg'\n    }\"> <generic-schema schema=nestedSchema model=$ctrl.models[index] errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change=\"$ctrl.onModelChange(index, model, schema)\" on-refresh=\"$ctrl.onRefreshRequirements(model, index)\"> </generic-schema> </div> </div> "},165:function(e,t){e.exports='<div ng-if=$ctrl.isSimpleType($ctrl.schema.items.type)> Unsupported </div> <div ng-if=!$ctrl.isSimpleType($ctrl.schema.items.type)> <h4 class=page-header ng-if=$ctrl.schema.title> {{ $ctrl.schema.title }} </h4> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-repeat="(index, childModel) in $ctrl.model"> <hr ng-if="index > 0" class="m-t-1 m-b-2"/> <div class=row> <div class=col-sm-9> <generic-schema schema=$ctrl.schema.items model=childModel errors=$ctrl.errors[index] locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(index, model, schema)" on-refresh="$ctrl.onRefreshRequirements(model, index)"> </generic-schema> </div> <div class=col-sm-3> <button class="btn btn-danger btn-block m-t-3" ng-click=$ctrl.remove(index) ng-disabled="index < $ctrl.schema.minItems"> {{ $ctrl.translations.array.remove }} </button> </div> </div> </div> <button class="btn btn-default" ng-disabled="$ctrl.schema.maxItems && $ctrl.model.length >= $ctrl.schema.maxItems" ng-click=$ctrl.add()> {{ $ctrl.translations.array.add }} </button> </div> '},166:function(e,t){e.exports='<tw-field name="{{ $ctrl.key }}" model=$ctrl.model field=$ctrl.schema required=$ctrl.required locale="{{ $ctrl.locale }}" on-change=$ctrl.onModelChange(value) error-message=$ctrl.errors warning-message=$ctrl.schema.help.warning validation-messages=$ctrl.getValidationMessages() upload-options=$ctrl.translations.upload class=btn-block> </tw-field> '},167:function(e,t){e.exports='<one-of-schema ng-if=$ctrl.schema.oneOf model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </one-of-schema> <all-of-schema ng-if=$ctrl.schema.allOf model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </all-of-schema> <basic-type-schema ng-if="$ctrl.schema.type && ($ctrl.schema.type !== \'object\' && $ctrl.schema.type !== \'array\')" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations required=$ctrl.required on-change="$ctrl.onModelChange(model, schema)"> </basic-type-schema> <object-schema ng-if="$ctrl.schema.type === \'object\'" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)" hide-title=$ctrl.hideTitle> </object-schema> <array-schema ng-if="$ctrl.schema.type === \'array\'" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </array-schema> '},168:function(e,t){e.exports="<fieldset> <legend ng-if=\"$ctrl.schema.title && !$ctrl.hideTitle\"> {{ $ctrl.schema.title }} </legend> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-if=$ctrl.schema.help.warning class=\"alert alert-warning\"> {{ $ctrl.schema.help.warning }} </div> <div class=row> <div ng-repeat=\"(property, nestedSchema) in $ctrl.schema.properties\" class=col-xs-12 ng-hide=nestedSchema.hidden ng-class=\"{\n        'col-sm-4': !$ctrl.narrow  && nestedSchema.width === 'sm',\n        'col-sm-6': !$ctrl.narrow  && nestedSchema.width === 'md',\n        'col-sm-12': $ctrl.narrow || nestedSchema.width === 'lg'\n      }\"> <generic-schema schema=nestedSchema model=$ctrl.model[property] errors=$ctrl.errors[property] locale=$ctrl.locale translations=$ctrl.translations required=$ctrl.isRequired(property) on-change=\"$ctrl.onModelChange(property, model, schema)\" on-refresh=\"$ctrl.onRefreshRequirements(model, property)\"> </generic-schema> </div> </div> </fieldset> "},169:function(e,t){e.exports='<label class=control-label ng-if=$ctrl.schema.title> {{ $ctrl.schema.title }} </label> <div class="form-group m-b-5"> <div class=radio ng-repeat="(index, schema) in $ctrl.schema.oneOf" ng-class="{\'radio-lg\': schema.description}"> <label> <tw-radio ng-model=$ctrl.activeIndex ng-value="(index + 1)" ng-change=$ctrl.onSchemaChange(schema)></tw-radio> {{ schema.title }} <p ng-if=schema.description class="secondary m-b-0"> {{ schema.description }} </p> </label> </div> </div> <generic-schema ng-if="$ctrl.schema.oneOf[$ctrl.activeIndex - 1]" schema="$ctrl.schema.oneOf[$ctrl.activeIndex - 1]" model=$ctrl.model errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)" on-refresh=$ctrl.onRefreshRequirements(model) hide-title=true> </generic-schema> '},29:function(e,t,n){"use strict";function r(e,t){if(t.allOf)return s(e,t);if(t.oneOf)return u(e,t);if(t.type)switch(t.type){case"object":return a(e,t);case"array":return l(e,t);case"string":return o(e);case"number":case"integer":return c(e);case"boolean":return i(e);default:return null}else if(t.enum&&t.enum.indexOf(e)>=0)return e;return null}function a(e,t){var n={};return Object.keys(t.properties).forEach(function(a){if(void 0!==e[a]){var l=r(e[a],t.properties[a]);null!==l&&(n[a]=l)}}),n}function l(e,t){return Array.isArray(e)?e.map(function(e){return r(e,t)}):null}function o(e){return"string"==typeof e?e:null}function c(e){return"number"==typeof e?e:null}function i(e){return"boolean"==typeof e?e:null}function s(e,t){var n={},a=void 0;return t.allOf.forEach(function(t){a=r(e,t),"object"===(void 0===a?"undefined":d(a))&&angular.extend(n,a)}),n}function u(e,t){return e}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getValidModelParts=r},95:function(e,t,n){"use strict";function r(e,t){switch(t.type){case"string":return a(e,t);case"number":return l(e,t);case"integer":return o(e,t);case"boolean":return c(e,t);case"array":return i(e,t);case"object":return s(e,t);default:return[]}}function a(e,t){if("string"!=typeof e)return["type"];var n=[];return t.required&&u(e)&&n.push("required"),t.minLength&&d(e,t.minLength)&&n.push("minLength"),t.maxLength&&f(e,t.maxLength)&&n.push("maxLength"),t.pattern&&h(e,t.pattern)&&n.push("pattern"),t.min&&p(e,t.min)&&n.push("min"),t.max&&m(e,t.max)&&n.push("max"),n}function l(e,t){if("number"!=typeof e)return["type"];var n=[];return t.required&&u(e)&&n.push("required"),t.min&&p(e,t.min)&&n.push("min"),t.max&&m(e,t.max)&&n.push("max"),n}function o(e,t){return Math.floor(e)!==e?["type"]:l(e,t)}function c(e,t){if("boolean"!=typeof e)return["type"];var n=[];return t.required&&u(e)&&n.push("required"),n}function i(e,t){if(!Array.isArray(e))return["type"];var n=[];return t.required&&u(e)&&n.push("required"),t.minItems&&g(e,t.minItems)&&n.push("minItems"),t.maxItems&&v(e,t.maxItems)&&n.push("maxItems"),n}function s(e,t){return e.constructor!==Object?["type"]:Array.isArray(t.required)?t.required.map(function(t){return void 0!==e[t]}).reduce(function(e,t){return e&&t},!0)?[]:["required"]:[]}function u(e){return!e}function d(e,t){return e&&e.length<t}function f(e,t){return e&&e.length>t}function h(e,t){try{return!new RegExp(t).test(e)}catch(e){return!1}}function m(e,t){return e&&e>t}function p(e,t){return e&&e<t}function g(e,t){return e&&e.length<t}function v(e,t){return e&&e.length>t}Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchema=r,t.validateString=a,t.validateNumber=l,t.validateBoolean=c,t.validateArray=i,t.validateObject=s}});